apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Note: PVs are cluster-scoped, PVCs are in their respective app namespaces
# Only apply namespace to resources that should be in 'storage' namespace

resources:
  - namespace.yaml
  # smb-csi-driver is installed separately via kubectl (cluster-scoped, kube-system namespace)
  - sealed-secret.yaml
  - storage-class.yaml
  - persistent-volumes/music-pv.yaml
  - persistent-volumes/backup-pv.yaml
  - persistent-volumes/n8n-pv.yaml
  - persistent-volumes/music-pvc.yaml
  - persistent-volumes/backup-pvc.yaml
  - persistent-volumes/n8n-pvc.yaml
